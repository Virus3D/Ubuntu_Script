#!/bin/bash
# monitor-linters.sh - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤

echo "üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã –ª–∏–Ω—Ç–µ—Ä–æ–≤
echo "–ü—Ä–æ—Ü–µ—Å—Å—ã –ª–∏–Ω—Ç–µ—Ä–æ–≤:"
ps aux | grep -E "(eslint|phpcs|stylelint)" | grep -v grep

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
echo -e "\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:"
ps -o pid,user,%mem,command ax | grep -E "(eslint|phpcs|stylelint)" | grep -v grep

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
echo -e "\n–†–∞–∑–º–µ—Ä –∫—ç—à–∞ –ª–∏–Ω—Ç–µ—Ä–æ–≤:"
du -sh ~/.cursor/cache 2>/dev/null || echo "–ö—ç—à –Ω–µ –Ω–∞–π–¥–µ–Ω"

# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
echo -e "\nüí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:"
echo "1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .cursor-eslintrc.js –¥–ª—è –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏"
echo "2. –ò—Å–∫–ª—é—á–∞–π—Ç–µ node_modules/ –∏ vendor/ –∏–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏"
echo "3. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–≤–µ—Ä–∫–∏ PHPStan –¥–æ 3-5"
echo "4. –û—Ç–∫–ª—é—á–∞–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"